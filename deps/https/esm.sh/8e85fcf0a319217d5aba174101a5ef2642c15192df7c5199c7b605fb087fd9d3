/* esm.sh - esbuild bundle(cohere-ai@6.2.0) deno production */
import  { Buffer as __Buffer$ } from "https://deno.land/std@0.177.0/node/buffer.ts";var __global$ = globalThis || (typeof window !== "undefined" ? window : self);import __1$ from "https://deno.land/std@0.177.0/node/https.ts";var K=Object.create;var q=Object.defineProperty;var Z=Object.getOwnPropertyDescriptor;var j=Object.getOwnPropertyNames;var U=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty;var Y=(a=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(a,{get:(i,c)=>(typeof require<"u"?require:i)[c]}):a)(function(a){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+a+'" is not supported')});var B=(a,i)=>()=>(i||a((i={exports:{}}).exports,i),i.exports),J=(a,i)=>{for(var c in i)q(a,c,{get:i[c],enumerable:!0})},O=(a,i,c,S)=>{if(i&&typeof i=="object"||typeof i=="function")for(let l of j(i))!P.call(a,l)&&l!==c&&q(a,l,{get:()=>i[l],enumerable:!(S=Z(i,l))||S.enumerable});return a},C=(a,i,c)=>(O(a,i,"default"),c&&O(c,i,"default")),D=(a,i,c)=>(c=a!=null?K(U(a)):{},O(i||!a||!a.__esModule?q(c,"default",{value:a,enumerable:!0}):c,a));var L=B((I,M)=>{(function(i,c){typeof I=="object"&&typeof M=="object"?M.exports=c():typeof define=="function"&&define.amd?define([],c):typeof I=="object"?I.cohere=c():i.cohere=c()})(__global$,()=>(()=>{"use strict";var a={828:function(l,R,v){var m=this&&this.__assign||function(){return m=Object.assign||function(o){for(var n,f=1,r=arguments.length;f<r;f++){n=arguments[f];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(o[u]=n[u])}return o},m.apply(this,arguments)},g=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},y=g(v(836)),_;(function(o){o.GENERATE="/generate",o.EMBED="/embed",o.CLASSIFY="/classify",o.TOKENIZE="/tokenize",o.DETOKENIZE="/detokenize",o.DETECT_LANGUAGE="/detect-language",o.SUMMARIZE="/summarize"})(_||(_={}));var x=5,w=function(){function o(){}return o.prototype.init=function(n){y.default.init(n)},o.prototype.makeRequest=function(n,f){return y.default.post(n,f)},o.prototype.generate=function(n){return this.makeRequest(_.GENERATE,n)},o.prototype.tokenize=function(n){var f=n.text;return this.makeRequest(_.TOKENIZE,{text:f})},o.prototype.detokenize=function(n){var f=n.tokens;return this.makeRequest(_.DETOKENIZE,{tokens:f})},o.prototype.embed=function(n){var f=this,r=function(u){for(var s=[],e=0,p=u;e<p.length;e++){var d=p[e],E=s[s.length-1];!E||E.length===x?s.push([d]):E.push(d)}return s};return Promise.all(r(n.texts).map(function(u){return f.makeRequest(_.EMBED,m(m({},n),{texts:u}))})).then(function(u){var s=[];u.forEach(function(d){s=s.concat(d.body.embeddings)});var e=u[0].body.meta||void 0,p={statusCode:u[0].statusCode,body:{embeddings:s,meta:e}};return p})},o.prototype.classify=function(n){return this.makeRequest(_.CLASSIFY,n)},o.prototype.detectLanguage=function(n){return this.makeRequest(_.DETECT_LANGUAGE,n)},o.prototype.summarize=function(n){return this.makeRequest(_.SUMMARIZE,n)},o}(),A=new w;l.exports=A},836:function(l,R,v){var m=this&&this.__awaiter||function(n,f,r,u){function s(e){return e instanceof r?e:new r(function(p){p(e)})}return new(r||(r=Promise))(function(e,p){function d(h){try{t(u.next(h))}catch(b){p(b)}}function E(h){try{t(u.throw(h))}catch(b){p(b)}}function t(h){h.done?e(h.value):s(h.value).then(d,E)}t((u=u.apply(n,f||[])).next())})},g=this&&this.__generator||function(n,f){var r={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},u,s,e,p;return p={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function d(t){return function(h){return E([t,h])}}function E(t){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,t[0]&&(r=0)),r;)try{if(u=1,s&&(e=t[0]&2?s.return:t[0]?s.throw||((e=s.return)&&e.call(s),0):s.next)&&!(e=e.call(s,t[1])).done)return e;switch(s=0,e&&(t=[t[0]&2,e.value]),t[0]){case 0:case 1:e=t;break;case 4:return r.label++,{value:t[1],done:!1};case 5:r.label++,s=t[1],t=[0];continue;case 7:t=r.ops.pop(),r.trys.pop();continue;default:if(e=r.trys,!(e=e.length>0&&e[e.length-1])&&(t[0]===6||t[0]===2)){r=0;continue}if(t[0]===3&&(!e||t[1]>e[0]&&t[1]<e[3])){r.label=t[1];break}if(t[0]===6&&r.label<e[1]){r.label=e[1],e=t;break}if(e&&r.label<e[2]){r.label=e[2],r.ops.push(t);break}e[2]&&r.ops.pop(),r.trys.pop();continue}t=f.call(n,r)}catch(h){t=[6,h],s=0}finally{u=e=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}},y=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},_=v(687),x=y(v(959)),w;(function(n){n.COHERE_API="api.cohere.ai"})(w||(w={}));var A=function(){function n(){this.COHERE_API_KEY="",this.COHERE_VERSION="1"}return n.prototype.init=function(f){this.COHERE_API_KEY=f},n.prototype.post=function(f,r){return m(this,void 0,void 0,function(){var u=this;return g(this,function(s){return[2,new Promise(function(e,p){try{r=JSON.parse("".concat(r))}catch{}var d=JSON.stringify(r),E=_.request({hostname:w.COHERE_API,path:"/v".concat(u.COHERE_VERSION).concat(f),method:"POST",headers:{"Content-Type":"application/json; charset=utf-8","Content-Length":__Buffer$.byteLength(d,"utf8"),Authorization:"Bearer ".concat(u.COHERE_API_KEY),"Request-Source":"node-sdk"},timeout:5e3},function(t){var h=[];t.on("data",function(b){return h.push(b)}),t.on("end",function(){if("x-api-warning"in t.headers){var b=t.headers["x-api-warning"];if(typeof b=="string")console.warn("\x1B[33mWarning: %s\x1B[0m",b);else for(var H in b)console.warn("\x1B[33mWarning: %s\x1B[0m",H)}e({statusCode:t.statusCode,body:JSON.parse(__Buffer$.concat(h).toString())})})});E.on("error",function(t){return p(x.default.handleError(t))}),E.write(d,"utf8"),E.end()})]})})},n}(),o=new A;l.exports=o},959:l=>{var R=function(){function m(){}return m.prototype.handleError=function(g){var y,_,x,w=((y=g.response)===null||y===void 0?void 0:y.status)||500,A=((x=(_=g.response)===null||_===void 0?void 0:_.data)===null||x===void 0?void 0:x.message)||g.message;return{statusCode:w,body:{message:A}}},m}(),v=new R;l.exports=v},687:l=>{l.exports=__1$}},i={};function c(l){var R=i[l];if(R!==void 0)return R.exports;var v=i[l]={exports:{}};return a[l].call(v.exports,v,v.exports,c),v.exports}var S=c(828);return S})())});var T=B((Q,z)=>{z.exports=L()});var k={};J(k,{default:()=>V});var N=D(T());C(k,D(T()));var{default:G,...F}=N,V=G!==void 0?G:F;export{V as default};
//# sourceMappingURL=cohere-ai.mjs.map