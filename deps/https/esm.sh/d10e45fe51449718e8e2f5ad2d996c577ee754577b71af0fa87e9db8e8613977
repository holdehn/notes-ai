/* esm.sh - esbuild bundle(cohere-ai@6.2.1) deno production */
import  { Buffer as __Buffer$ } from "https://deno.land/std@0.177.0/node/buffer.ts";var __global$ = globalThis || (typeof window !== "undefined" ? window : self);import __1$ from "https://deno.land/std@0.177.0/node/https.ts";var K=Object.create;var q=Object.defineProperty;var Z=Object.getOwnPropertyDescriptor;var j=Object.getOwnPropertyNames;var U=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty;var Y=(a=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(a,{get:(i,c)=>(typeof require<"u"?require:i)[c]}):a)(function(a){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+a+'" is not supported')});var B=(a,i)=>()=>(i||a((i={exports:{}}).exports,i),i.exports),J=(a,i)=>{for(var c in i)q(a,c,{get:i[c],enumerable:!0})},O=(a,i,c,S)=>{if(i&&typeof i=="object"||typeof i=="function")for(let l of j(i))!P.call(a,l)&&l!==c&&q(a,l,{get:()=>i[l],enumerable:!(S=Z(i,l))||S.enumerable});return a},C=(a,i,c)=>(O(a,i,"default"),c&&O(c,i,"default")),D=(a,i,c)=>(c=a!=null?K(U(a)):{},O(i||!a||!a.__esModule?q(c,"default",{value:a,enumerable:!0}):c,a));var L=B((I,M)=>{(function(i,c){typeof I=="object"&&typeof M=="object"?M.exports=c():typeof define=="function"&&define.amd?define([],c):typeof I=="object"?I.cohere=c():i.cohere=c()})(__global$,()=>(()=>{"use strict";var a={828:function(l,R,v){var E=this&&this.__assign||function(){return E=Object.assign||function(o){for(var e,f=1,r=arguments.length;f<r;f++){e=arguments[f];for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(o[u]=e[u])}return o},E.apply(this,arguments)},x=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},y=x(v(836)),h;(function(o){o.GENERATE="/generate",o.EMBED="/embed",o.CLASSIFY="/classify",o.TOKENIZE="/tokenize",o.DETOKENIZE="/detokenize",o.DETECT_LANGUAGE="/detect-language",o.SUMMARIZE="/summarize"})(h||(h={}));var g=5,w=function(){function o(){}return o.prototype.init=function(e){y.default.init(e)},o.prototype.makeRequest=function(e,f){return y.default.post(e,f)},o.prototype.generate=function(e){return this.makeRequest(h.GENERATE,e)},o.prototype.tokenize=function(e){var f=e.text;return this.makeRequest(h.TOKENIZE,{text:f})},o.prototype.detokenize=function(e){var f=e.tokens;return this.makeRequest(h.DETOKENIZE,{tokens:f})},o.prototype.embed=function(e){var f=this,r=function(u){for(var s=[],t=0,p=u;t<p.length;t++){var d=p[t],m=s[s.length-1];!m||m.length===g?s.push([d]):m.push(d)}return s};return Promise.all(r(e.texts).map(function(u){return f.makeRequest(h.EMBED,E(E({},e),{texts:u}))})).then(function(u){var s=[];u.forEach(function(d){s=s.concat(d.body.embeddings)});var t=u[0].body.meta||void 0,p={statusCode:u[0].statusCode,body:{embeddings:s,meta:t}};return p})},o.prototype.classify=function(e){if(e.preset===void 0||e.preset===""){if(e.examples===void 0||e.examples.length===0)throw new Error("`examples` must not be empty");if(e.inputs===void 0||e.inputs.length===0)throw new Error("`inputs` must not be empty")}return this.makeRequest(h.CLASSIFY,e)},o.prototype.detectLanguage=function(e){return this.makeRequest(h.DETECT_LANGUAGE,e)},o.prototype.summarize=function(e){return this.makeRequest(h.SUMMARIZE,e)},o}(),A=new w;l.exports=A},836:function(l,R,v){var E=this&&this.__awaiter||function(e,f,r,u){function s(t){return t instanceof r?t:new r(function(p){p(t)})}return new(r||(r=Promise))(function(t,p){function d(_){try{n(u.next(_))}catch(b){p(b)}}function m(_){try{n(u.throw(_))}catch(b){p(b)}}function n(_){_.done?t(_.value):s(_.value).then(d,m)}n((u=u.apply(e,f||[])).next())})},x=this&&this.__generator||function(e,f){var r={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},u,s,t,p;return p={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function d(n){return function(_){return m([n,_])}}function m(n){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,n[0]&&(r=0)),r;)try{if(u=1,s&&(t=n[0]&2?s.return:n[0]?s.throw||((t=s.return)&&t.call(s),0):s.next)&&!(t=t.call(s,n[1])).done)return t;switch(s=0,t&&(n=[n[0]&2,t.value]),n[0]){case 0:case 1:t=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,s=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(t=r.trys,!(t=t.length>0&&t[t.length-1])&&(n[0]===6||n[0]===2)){r=0;continue}if(n[0]===3&&(!t||n[1]>t[0]&&n[1]<t[3])){r.label=n[1];break}if(n[0]===6&&r.label<t[1]){r.label=t[1],t=n;break}if(t&&r.label<t[2]){r.label=t[2],r.ops.push(n);break}t[2]&&r.ops.pop(),r.trys.pop();continue}n=f.call(e,r)}catch(_){n=[6,_],s=0}finally{u=t=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},y=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},h=v(687),g=y(v(959)),w;(function(e){e.COHERE_API="api.cohere.ai"})(w||(w={}));var A=function(){function e(){this.COHERE_API_KEY="",this.COHERE_VERSION="1"}return e.prototype.init=function(f){this.COHERE_API_KEY=f},e.prototype.post=function(f,r){return E(this,void 0,void 0,function(){var u=this;return x(this,function(s){return[2,new Promise(function(t,p){try{r=JSON.parse("".concat(r))}catch{}var d=JSON.stringify(r),m=h.request({hostname:w.COHERE_API,path:"/v".concat(u.COHERE_VERSION).concat(f),method:"POST",headers:{"Content-Type":"application/json; charset=utf-8","Content-Length":__Buffer$.byteLength(d,"utf8"),Authorization:"Bearer ".concat(u.COHERE_API_KEY),"Request-Source":"node-sdk"},timeout:5e3},function(n){var _=[];n.on("data",function(b){return _.push(b)}),n.on("end",function(){if("x-api-warning"in n.headers){var b=n.headers["x-api-warning"];if(typeof b=="string")console.warn("\x1B[33mWarning: %s\x1B[0m",b);else for(var H in b)console.warn("\x1B[33mWarning: %s\x1B[0m",H)}t({statusCode:n.statusCode,body:JSON.parse(__Buffer$.concat(_).toString())})})});m.on("error",function(n){return p(g.default.handleError(n))}),m.write(d,"utf8"),m.end()})]})})},e}(),o=new A;l.exports=o},959:l=>{var R=function(){function E(){}return E.prototype.handleError=function(x){var y,h,g,w=((y=x.response)===null||y===void 0?void 0:y.status)||500,A=((g=(h=x.response)===null||h===void 0?void 0:h.data)===null||g===void 0?void 0:g.message)||x.message;return{statusCode:w,body:{message:A}}},E}(),v=new R;l.exports=v},687:l=>{l.exports=__1$}},i={};function c(l){var R=i[l];if(R!==void 0)return R.exports;var v=i[l]={exports:{}};return a[l].call(v.exports,v,v.exports,c),v.exports}var S=c(828);return S})())});var T=B((Q,z)=>{z.exports=L()});var k={};J(k,{default:()=>V});var N=D(T());C(k,D(T()));var{default:G,...F}=N,V=G!==void 0?G:F;export{V as default};
//# sourceMappingURL=cohere-ai.mjs.map