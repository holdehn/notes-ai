/* esm.sh - esbuild bundle(zod-to-json-schema@3.21.1) deno production */
import * as _1$ from "/v126/zod@3.21.4/deno/zod.mjs";const __1$ = Object.assign({__esModule:!0},_1$);var it=Object.create;var ae=Object.defineProperty;var ot=Object.getOwnPropertyDescriptor;var ut=Object.getOwnPropertyNames;var ct=Object.getPrototypeOf,pt=Object.prototype.hasOwnProperty;var ie=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var i=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),dt=(e,t)=>{for(var n in t)ae(e,n,{get:t[n],enumerable:!0})},se=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ut(t))!pt.call(e,s)&&s!==n&&ae(e,s,{get:()=>t[s],enumerable:!(r=ot(t,s))||r.enumerable});return e},y=(e,t,n)=>(se(e,t,"default"),n&&se(n,t,"default")),ye=(e,t,n)=>(n=e!=null?it(ct(e)):{},se(t||!e||!e.__esModule?ae(n,"default",{value:e,enumerable:!0}):n,e));var ge=i(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.parseAnyDef=void 0;function lt(){return{}}q.parseAnyDef=lt});var P=i(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});D.setResponseValueAndErrors=D.addErrorMessage=void 0;function me(e,t,n,r){r?.errorMessages&&n&&(e.errorMessage=Object.assign(Object.assign({},e.errorMessage),{[t]:n}))}D.addErrorMessage=me;function ft(e,t,n,r,s){e[t]=n,me(e,t,r,s)}D.setResponseValueAndErrors=ft});var _e=i(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.parseArrayDef=void 0;var yt=__1$,be=P(),gt=c();function mt(e,t){var n,r;let s={type:"array"};return((r=(n=e.type)===null||n===void 0?void 0:n._def)===null||r===void 0?void 0:r.typeName)!==yt.ZodFirstPartyTypeKind.ZodAny&&(s.items=(0,gt.parseDef)(e.type._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"items"]}))),e.minLength&&(0,be.setResponseValueAndErrors)(s,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&(0,be.setResponseValueAndErrors)(s,"maxItems",e.maxLength.value,e.maxLength.message,t),s}k.parseArrayDef=mt});var ve=i(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.parseBigintDef=void 0;var v=P();function bt(e,t){let n={type:"integer",format:"int64"};if(!e.checks)return n;for(let r of e.checks)switch(r.kind){case"min":t.target==="jsonSchema7"?r.inclusive?(0,v.setResponseValueAndErrors)(n,"minimum",r.value,r.message,t):(0,v.setResponseValueAndErrors)(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),(0,v.setResponseValueAndErrors)(n,"minimum",r.value,r.message,t));break;case"max":t.target==="jsonSchema7"?r.inclusive?(0,v.setResponseValueAndErrors)(n,"maximum",r.value,r.message,t):(0,v.setResponseValueAndErrors)(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),(0,v.setResponseValueAndErrors)(n,"maximum",r.value,r.message,t));break;case"multipleOf":(0,v.setResponseValueAndErrors)(n,"multipleOf",r.value,r.message,t);break}return n}S.parseBigintDef=bt});var Oe=i(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.parseBooleanDef=void 0;function _t(){return{type:"boolean"}}A.parseBooleanDef=_t});var De=i(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.parseBrandedDef=void 0;var vt=c();function Ot(e,t){return(0,vt.parseDef)(e.type._def,t)}E.parseBrandedDef=Ot});var Pe=i(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.parseCatchDef=void 0;var Dt=c(),Pt=(e,t)=>(0,Dt.parseDef)(e.innerType._def,t);N.parseCatchDef=Pt});var he=i(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.parseDateDef=void 0;function ht(){return{type:"string",format:"date-time"}}K.parseDateDef=ht});var je=i(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.parseDefaultDef=void 0;var jt=c();function Mt(e,t){return Object.assign(Object.assign({},(0,jt.parseDef)(e.innerType._def,t)),{default:e.defaultValue()})}F.parseDefaultDef=Mt});var Me=i(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});R.parseEffectsDef=void 0;var Zt=c();function Tt(e,t){return t.effectStrategy==="input"?(0,Zt.parseDef)(e.schema._def,t):{}}R.parseEffectsDef=Tt});var Ze=i(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.parseEnumDef=void 0;function qt(e){return{type:"string",enum:e.values}}x.parseEnumDef=qt});var qe=i(h=>{"use strict";var kt=h&&h.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};Object.defineProperty(h,"__esModule",{value:!0});h.parseIntersectionDef=void 0;var Te=c(),St=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function At(e,t){let n=[(0,Te.parseDef)(e.left._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"allOf","0"]})),(0,Te.parseDef)(e.right._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"allOf","1"]}))].filter(a=>!!a),r=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,s=[];return n.forEach(a=>{if(St(a))s.push(...a.allOf),a.unevaluatedProperties===void 0&&(r=void 0);else{let u=a;if("additionalProperties"in a&&a.additionalProperties===!1){let{additionalProperties:p}=a;u=kt(a,["additionalProperties"])}else r=void 0;s.push(u)}}),s.length?Object.assign({allOf:s},r):void 0}h.parseIntersectionDef=At});var ke=i(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.parseLiteralDef=void 0;function Et(e,t){let n=typeof e.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[e.value]}:{type:n==="bigint"?"integer":n,const:e.value}}V.parseLiteralDef=Et});var Ae=i(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.parseMapDef=void 0;var Se=c();function Nt(e,t){let n=(0,Se.parseDef)(e.keyType._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"items","items","0"]}))||{},r=(0,Se.parseDef)(e.valueType._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"items","items","1"]}))||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}L.parseMapDef=Nt});var Ee=i(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.parseNativeEnumDef=void 0;function Kt(e){let t=e.values,r=Object.keys(e.values).filter(a=>typeof t[t[a]]!="number").map(a=>t[a]),s=Array.from(new Set(r.map(a=>typeof a)));return{type:s.length===1?s[0]==="string"?"string":"number":["string","number"],enum:r}}I.parseNativeEnumDef=Kt});var Ne=i(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.parseNeverDef=void 0;function Ft(){return{not:{}}}z.parseNeverDef=Ft});var Ke=i(w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});w.parseNullDef=void 0;function Rt(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}w.parseNullDef=Rt});var oe=i(g=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});g.parseUnionDef=g.primitiveMappings=void 0;var xt=c();g.primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Vt(e,t){if(t.target==="openApi3")return Fe(e,t);let n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(r=>r._def.typeName in g.primitiveMappings&&(!r._def.checks||!r._def.checks.length))){let r=n.reduce((s,a)=>{let u=g.primitiveMappings[a._def.typeName];return u&&!s.includes(u)?[...s,u]:s},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){let r=n.reduce((s,a)=>{let u=typeof a._def.value;switch(u){case"string":case"number":case"boolean":return[...s,u];case"bigint":return[...s,"integer"];case"object":if(a._def.value===null)return[...s,"null"];case"symbol":case"undefined":case"function":default:return s}},[]);if(r.length===n.length){let s=r.filter((a,u,p)=>p.indexOf(a)===u);return{type:s.length>1?s:s[0],enum:n.reduce((a,u)=>a.includes(u._def.value)?a:[...a,u._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,s)=>[...r,...s._def.values.filter(a=>!r.includes(a))],[])};return Fe(e,t)}g.parseUnionDef=Vt;var Fe=(e,t)=>{let n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,s)=>(0,xt.parseDef)(r._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"anyOf",`${s}`]}))).filter(r=>!!r&&(!t.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0}});var xe=i(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.parseNullableDef=void 0;var Lt=c(),Re=oe();function It(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:Re.primitiveMappings[e.innerType._def.typeName],nullable:!0}:{type:[Re.primitiveMappings[e.innerType._def.typeName],"null"]};let n=(0,Lt.parseDef)(e.innerType._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"anyOf","0"]}));return n?t.target==="openApi3"?Object.assign(Object.assign({},n),{nullable:!0}):{anyOf:[n,{type:"null"}]}:void 0}U.parseNullableDef=It});var Ve=i($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.parseNumberDef=void 0;var m=P();function zt(e,t){let n={type:"number"};if(!e.checks)return n;for(let r of e.checks)switch(r.kind){case"int":n.type="integer",(0,m.addErrorMessage)(n,"type",r.message,t);break;case"min":t.target==="jsonSchema7"?r.inclusive?(0,m.setResponseValueAndErrors)(n,"minimum",r.value,r.message,t):(0,m.setResponseValueAndErrors)(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),(0,m.setResponseValueAndErrors)(n,"minimum",r.value,r.message,t));break;case"max":t.target==="jsonSchema7"?r.inclusive?(0,m.setResponseValueAndErrors)(n,"maximum",r.value,r.message,t):(0,m.setResponseValueAndErrors)(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),(0,m.setResponseValueAndErrors)(n,"maximum",r.value,r.message,t));break;case"multipleOf":(0,m.setResponseValueAndErrors)(n,"multipleOf",r.value,r.message,t);break}return n}$.parseNumberDef=zt});var Ie=i(B=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});B.parseObjectDef=void 0;var Le=c();function wt(e,t){var n;let r=Object.assign(Object.assign({type:"object"},Object.entries(e.shape()).reduce((s,[a,u])=>{if(u===void 0||u._def===void 0)return s;let p=(0,Le.parseDef)(u._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"properties",a],propertyPath:[...t.currentPath,"properties",a]}));return p===void 0?s:{properties:Object.assign(Object.assign({},s.properties),{[a]:p}),required:u.isOptional()?s.required:[...s.required,a]}},{properties:{},required:[]})),{additionalProperties:e.catchall._def.typeName==="ZodNever"?e.unknownKeys==="passthrough":(n=(0,Le.parseDef)(e.catchall._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"additionalProperties"]})))!==null&&n!==void 0?n:!0});return r.required.length||delete r.required,r}B.parseObjectDef=wt});var we=i(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.parseOptionalDef=void 0;var ze=c(),Ut=(e,t)=>{var n;if(t.currentPath.toString()===((n=t.propertyPath)===null||n===void 0?void 0:n.toString()))return(0,ze.parseDef)(e.innerType._def,t);let r=(0,ze.parseDef)(e.innerType._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"anyOf","1"]}));return r?{anyOf:[{not:{}},r]}:{}};J.parseOptionalDef=Ut});var Ue=i(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});C.parsePipelineDef=void 0;var ue=c(),$t=(e,t)=>{if(t.pipeStrategy==="input")return(0,ue.parseDef)(e.in._def,t);let n=(0,ue.parseDef)(e.in._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"allOf","0"]})),r=(0,ue.parseDef)(e.out._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"allOf",n?"1":"0"]}));return{allOf:[n,r].filter(s=>s!==void 0)}};C.parsePipelineDef=$t});var $e=i(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.parsePromiseDef=void 0;var Bt=c();function Jt(e,t){return(0,Bt.parseDef)(e.type._def,t)}W.parsePromiseDef=Jt});var pe=i(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});H.parseStringDef=void 0;var M=P();function Ct(e,t){let n={type:"string"};if(e.checks)for(let r of e.checks)switch(r.kind){case"min":(0,M.setResponseValueAndErrors)(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,t);break;case"max":(0,M.setResponseValueAndErrors)(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"email":j(n,"email",r.message,t);break;case"url":j(n,"uri",r.message,t);break;case"uuid":j(n,"uuid",r.message,t);break;case"regex":b(n,r.regex.source,r.message,t);break;case"cuid":b(n,"^c[^\\s-]{8,}$",r.message,t);break;case"cuid2":b(n,"^[a-z][a-z0-9]*$",r.message,t);break;case"startsWith":b(n,"^"+ce(r.value),r.message,t);break;case"endsWith":b(n,ce(r.value)+"$",r.message,t);break;case"datetime":j(n,"date-time",r.message,t);break;case"length":(0,M.setResponseValueAndErrors)(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,t),(0,M.setResponseValueAndErrors)(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"includes":{b(n,ce(r.value),r.message,t);break}case"ip":{r.version!=="v6"&&j(n,"ipv4",r.message,t),r.version!=="v4"&&j(n,"ipv6",r.message,t);break}case"emoji":b(n,"/^(p{Extended_Pictographic}|p{Emoji_Component})+$/u",r.message,t);break;case"ulid":{b(n,"/[0-9A-HJKMNP-TV-Z]{26}/",r.message,t);break}case"toLowerCase":case"toUpperCase":case"trim":break;default:(s=>{})(r)}return n}H.parseStringDef=Ct;var ce=e=>Array.from(e).map(t=>/[a-zA-Z0-9]/.test(t)?t:`\\${t}`).join(""),j=(e,t,n,r)=>{var s;e.format||!((s=e.anyOf)===null||s===void 0)&&s.some(a=>a.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push(Object.assign({format:e.format},e.errorMessage&&r.errorMessages&&{errorMessage:{format:e.errorMessage.format}})),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push(Object.assign({format:t},n&&r.errorMessages&&{errorMessage:{format:n}}))):(0,M.setResponseValueAndErrors)(e,"format",t,n,r)},b=(e,t,n,r)=>{var s;e.pattern||!((s=e.allOf)===null||s===void 0)&&s.some(a=>a.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push(Object.assign({pattern:e.pattern},e.errorMessage&&r.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}})),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push(Object.assign({pattern:t},n&&r.errorMessages&&{errorMessage:{pattern:n}}))):(0,M.setResponseValueAndErrors)(e,"pattern",t,n,r)}});var Je=i(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.parseRecordDef=void 0;var de=__1$,Be=c(),Wt=pe();function Ht(e,t){var n,r,s,a,u;if(t.target==="openApi3"&&((n=e.keyType)===null||n===void 0?void 0:n._def.typeName)===de.ZodFirstPartyTypeKind.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((O,l)=>{var f;return Object.assign(Object.assign({},O),{[l]:(f=(0,Be.parseDef)(e.valueType._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"properties",l]})))!==null&&f!==void 0?f:{}})},{}),additionalProperties:!1};let p={type:"object",additionalProperties:(r=(0,Be.parseDef)(e.valueType._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"additionalProperties"]})))!==null&&r!==void 0?r:{}};if(t.target==="openApi3")return p;if(((s=e.keyType)===null||s===void 0?void 0:s._def.typeName)===de.ZodFirstPartyTypeKind.ZodString&&(!((a=e.keyType._def.checks)===null||a===void 0)&&a.length)){let O=Object.entries((0,Wt.parseStringDef)(e.keyType._def,t)).reduce((l,[f,Z])=>f==="type"?l:Object.assign(Object.assign({},l),{[f]:Z}),{});return Object.assign(Object.assign({},p),{propertyNames:O})}else if(((u=e.keyType)===null||u===void 0?void 0:u._def.typeName)===de.ZodFirstPartyTypeKind.ZodEnum)return Object.assign(Object.assign({},p),{propertyNames:{enum:e.keyType._def.values}});return p}G.parseRecordDef=Ht});var We=i(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.parseSetDef=void 0;var Ce=P(),Gt=c();function Qt(e,t){let r={type:"array",uniqueItems:!0,items:(0,Gt.parseDef)(e.valueType._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"items"]}))};return e.minSize&&(0,Ce.setResponseValueAndErrors)(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&(0,Ce.setResponseValueAndErrors)(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}Q.parseSetDef=Qt});var He=i(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.parseTupleDef=void 0;var le=c();function Xt(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,r)=>(0,le.parseDef)(n._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"items",`${r}`]}))).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:(0,le.parseDef)(e.rest._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"additionalItems"]}))}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,r)=>(0,le.parseDef)(n._def,Object.assign(Object.assign({},t),{currentPath:[...t.currentPath,"items",`${r}`]}))).reduce((n,r)=>r===void 0?n:[...n,r],[])}}X.parseTupleDef=Xt});var Ge=i(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.parseUndefinedDef=void 0;function Yt(){return{not:{}}}Y.parseUndefinedDef=Yt});var Qe=i(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.parseUnknownDef=void 0;function er(){return{}}ee.parseUnknownDef=er});var c=i(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.parseDef=void 0;var o=__1$,tr=ge(),rr=_e(),nr=ve(),sr=Oe(),ar=De(),ir=Pe(),or=he(),ur=je(),cr=Me(),pr=Ze(),dr=qe(),lr=ke(),fr=Ae(),yr=Ee(),gr=Ne(),mr=Ke(),br=xe(),_r=Ve(),vr=Ie(),Or=we(),Dr=Ue(),Pr=$e(),hr=Je(),jr=We(),Mr=pe(),Zr=He(),Tr=Ge(),qr=oe(),kr=Qe();function Xe(e,t,n=!1){let r=t.seen.get(e);if(r&&!n)return Sr(r,t);let s={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,s);let a=Er(e,e.typeName,t);return a&&Nr(e,a),s.jsonSchema=a,a}te.parseDef=Xe;var Sr=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.length===0?"":e.path.length===1?`${e.path[0]}/`:e.path.join("/")};case"relative":return{$ref:Ar(t.currentPath,e.path)};case"none":return e.path.length<t.currentPath.length&&e.path.every((n,r)=>t.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):e.jsonSchema}},Ar=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},Er=(e,t,n)=>{switch(t){case o.ZodFirstPartyTypeKind.ZodString:return(0,Mr.parseStringDef)(e,n);case o.ZodFirstPartyTypeKind.ZodNumber:return(0,_r.parseNumberDef)(e,n);case o.ZodFirstPartyTypeKind.ZodObject:return(0,vr.parseObjectDef)(e,n);case o.ZodFirstPartyTypeKind.ZodBigInt:return(0,nr.parseBigintDef)(e,n);case o.ZodFirstPartyTypeKind.ZodBoolean:return(0,sr.parseBooleanDef)();case o.ZodFirstPartyTypeKind.ZodDate:return(0,or.parseDateDef)();case o.ZodFirstPartyTypeKind.ZodUndefined:return(0,Tr.parseUndefinedDef)();case o.ZodFirstPartyTypeKind.ZodNull:return(0,mr.parseNullDef)(n);case o.ZodFirstPartyTypeKind.ZodArray:return(0,rr.parseArrayDef)(e,n);case o.ZodFirstPartyTypeKind.ZodUnion:case o.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return(0,qr.parseUnionDef)(e,n);case o.ZodFirstPartyTypeKind.ZodIntersection:return(0,dr.parseIntersectionDef)(e,n);case o.ZodFirstPartyTypeKind.ZodTuple:return(0,Zr.parseTupleDef)(e,n);case o.ZodFirstPartyTypeKind.ZodRecord:return(0,hr.parseRecordDef)(e,n);case o.ZodFirstPartyTypeKind.ZodLiteral:return(0,lr.parseLiteralDef)(e,n);case o.ZodFirstPartyTypeKind.ZodEnum:return(0,pr.parseEnumDef)(e);case o.ZodFirstPartyTypeKind.ZodNativeEnum:return(0,yr.parseNativeEnumDef)(e);case o.ZodFirstPartyTypeKind.ZodNullable:return(0,br.parseNullableDef)(e,n);case o.ZodFirstPartyTypeKind.ZodOptional:return(0,Or.parseOptionalDef)(e,n);case o.ZodFirstPartyTypeKind.ZodMap:return(0,fr.parseMapDef)(e,n);case o.ZodFirstPartyTypeKind.ZodSet:return(0,jr.parseSetDef)(e,n);case o.ZodFirstPartyTypeKind.ZodLazy:return Xe(e.getter()._def,n);case o.ZodFirstPartyTypeKind.ZodPromise:return(0,Pr.parsePromiseDef)(e,n);case o.ZodFirstPartyTypeKind.ZodNaN:case o.ZodFirstPartyTypeKind.ZodNever:return(0,gr.parseNeverDef)();case o.ZodFirstPartyTypeKind.ZodEffects:return(0,cr.parseEffectsDef)(e,n);case o.ZodFirstPartyTypeKind.ZodAny:return(0,tr.parseAnyDef)();case o.ZodFirstPartyTypeKind.ZodUnknown:return(0,kr.parseUnknownDef)();case o.ZodFirstPartyTypeKind.ZodDefault:return(0,ur.parseDefaultDef)(e,n);case o.ZodFirstPartyTypeKind.ZodBranded:return(0,ar.parseBrandedDef)(e,n);case o.ZodFirstPartyTypeKind.ZodCatch:return(0,ir.parseCatchDef)(e,n);case o.ZodFirstPartyTypeKind.ZodPipeline:return(0,Dr.parsePipelineDef)(e,n);case o.ZodFirstPartyTypeKind.ZodFunction:case o.ZodFirstPartyTypeKind.ZodVoid:case o.ZodFirstPartyTypeKind.ZodSymbol:return;default:return(r=>{})(t)}},Nr=(e,t)=>(e.description&&(t.description=e.description),t)});var Ye=i(_=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0});_.getDefaultOptions=_.defaultOptions=void 0;_.defaultOptions={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1};var Kr=e=>typeof e=="string"?Object.assign(Object.assign({},_.defaultOptions),{name:e}):Object.assign(Object.assign({},_.defaultOptions),e);_.getDefaultOptions=Kr});var et=i(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.getRefs=void 0;var Fr=Ye(),Rr=e=>{let t=(0,Fr.getDefaultOptions)(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return Object.assign(Object.assign({},t),{currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([r,s])=>[s._def,{def:s._def,path:[...t.basePath,t.definitionPath,r],jsonSchema:void 0}]))})};re.getRefs=Rr});var rt=i(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.zodToJsonSchema=void 0;var tt=c(),xr=et(),Vr=(e,t)=>{var n;let r=(0,xr.getRefs)(t),s=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((O,[l,f])=>{var Z;return Object.assign(Object.assign({},O),{[l]:(Z=(0,tt.parseDef)(f._def,Object.assign(Object.assign({},r),{currentPath:[...r.basePath,r.definitionPath,l]}),!0))!==null&&Z!==void 0?Z:{}})},{}):void 0,a=typeof t=="string"?t:t?.name,u=(n=(0,tt.parseDef)(e._def,a===void 0?r:Object.assign(Object.assign({},r),{currentPath:[...r.basePath,r.definitionPath,a]}),!1))!==null&&n!==void 0?n:{},p=a===void 0?s?Object.assign(Object.assign({},u),{[r.definitionPath]:s}):u:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,a].join("/"),[r.definitionPath]:Object.assign(Object.assign({},s),{[a]:u})};return r.target==="jsonSchema7"?p.$schema="http://json-schema.org/draft-07/schema#":r.target==="jsonSchema2019-09"&&(p.$schema="https://json-schema.org/draft/2019-09/schema#"),p};ne.zodToJsonSchema=Vr});var fe=i(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.zodToJsonSchema=void 0;var nt=rt();Object.defineProperty(T,"zodToJsonSchema",{enumerable:!0,get:function(){return nt.zodToJsonSchema}});T.default=nt.zodToJsonSchema});var d={};dt(d,{__esModule:()=>Lr,default:()=>wr,zodToJsonSchema:()=>Ir});var at=ye(fe());y(d,ye(fe()));var Lr=!0,{zodToJsonSchema:Ir}=at,{default:st,...zr}=at,wr=st!==void 0?st:zr;export{Lr as __esModule,wr as default,Ir as zodToJsonSchema};
//# sourceMappingURL=zod-to-json-schema.mjs.map